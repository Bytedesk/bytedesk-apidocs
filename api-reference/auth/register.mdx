---
title: "用户注册"
openapi: "POST /auth/v1/register"
---

通过短信或邮箱验证码完成用户注册，返回用户信息和访问令牌。

## 接口说明

用户可以通过手机号或邮箱进行注册，需要先获取验证码，然后完成注册流程。

## 请求体

```json
{
  "username": "string",
  "password": "string", 
  "mobile": "string",
  "email": "string",
  "code": "string",
  "accessToken": "string"
}
```

### 参数说明

- `username`: 用户名（可选）
- `password`: 密码（可选）
- `mobile`: 手机号（手机注册时必需）
- `email`: 邮箱地址（邮箱注册时必需）
- `code`: 验证码（必需）
- `accessToken`: 访问令牌（特殊场景）

## 响应示例

### 成功响应 (200)

```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "123456",
    "username": "testuser",
    "nickname": "测试用户",
    "email": "user@example.com",
    "mobile": "13888888888",
    "avatar": "https://api.weiyuai.cn/avatar/default.png",
    "status": "ACTIVE",
    "createdAt": "2023-01-01T12:00:00Z"
  }
}
```

### 错误响应 (400)

```json
{
  "error": 400,
  "message": "Invalid verification code"
}
```

## 注册流程

1. 选择注册方式（手机或邮箱）
2. 获取验证码
3. 填写用户信息
4. 提交注册请求
5. 获取访问令牌和用户信息

## 注意事项

- 验证码通常有时效限制（如5分钟）
- 手机号和邮箱需要唯一性验证
- 密码需要符合安全规则