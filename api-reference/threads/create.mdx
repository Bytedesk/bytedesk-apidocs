---
title: "POST 创建会话"
openapi: "POST /threads"
---

创建新的会话，支持个人会话、群组会话和客服会话等类型。

## 接口说明

此接口用于创建新的会话，用户可以根据需要创建不同类型的会话进行沟通。

## 请求头

```
Authorization: Bearer <access_token>
```

## 请求体

```json
{
  "type": "string",
  "title": "string",
  "description": "string"
}
```

### 参数说明

- `type` (必需): 会话类型
  - `PERSONAL`: 个人会话
  - `GROUP`: 群组会话
  - `SUPPORT`: 客服会话
- `title` (可选): 会话标题
- `description` (可选): 会话描述

## 响应示例

### 成功响应 (200)

```json
{
  "id": "thread_123459",
  "type": "PERSONAL",
  "status": "ACTIVE",
  "title": "新建个人会话",
  "description": "用户创建的个人会话",
  "createdAt": "2023-01-04T12:00:00Z"
}
```

### 错误响应 (400)

```json
{
  "error": 400,
  "message": "Invalid thread type"
}
```

## 创建规则

- 会话类型必须是有效的枚举值
- 创建者自动成为会话成员
- 新会话默认状态为 ACTIVE
- 系统会自动生成唯一的会话 ID

## 会话类型说明

### PERSONAL（个人会话）
- 一对一的私人对话
- 只有两个参与者
- 用于私密沟通

### GROUP（群组会话）
- 多人参与的群组对话
- 支持成员管理
- 适用于团队协作

### SUPPORT（客服会话）
- 用户与客服的对话
- 具有工单性质
- 支持会话状态管理

## 使用场景

- 发起新的聊天对话
- 创建项目讨论组
- 开启客服咨询
- 建立临时沟通渠道

## 注意事项

- 不同类型会话可能有不同的权限要求
- 群组会话可能需要邀请其他成员
- 客服会话可能会自动分配客服人员

<RequestExample>

```bash cURL
curl -X POST "https://api.weiyuai.cn/api/v1/threads" \
  -H "Authorization: Bearer your_access_token_here" \
  -H "Content-Type: application/json" \
  -d '{
    "type": "PERSONAL",
    "title": "新建个人会话",
    "description": "用户创建的个人会话"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.weiyuai.cn/api/v1/threads', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your_access_token_here',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    type: 'PERSONAL',
    title: '新建个人会话',
    description: '用户创建的个人会话'
  })
});

const newThread = await response.json();
```

```python Python
import requests

url = "https://api.weiyuai.cn/api/v1/threads"
headers = {
    "Authorization": "Bearer your_access_token_here",
    "Content-Type": "application/json"
}
data = {
    "type": "PERSONAL",
    "title": "新建个人会话",
    "description": "用户创建的个人会话"
}

response = requests.post(url, headers=headers, json=data)
new_thread = response.json()
```

</RequestExample>