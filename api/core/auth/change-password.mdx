---
title: "POST 修改密码"
openapi: "POST /api/v1/user/change/password"
---

## 概述

用户修改自己的登录密码，需要提供旧密码和新密码。

<div style={{ marginTop: 24, marginBottom: 24 }}>
  <ApiPlayground
    method="POST"
    endpoint="/api/v1/user/change/password"
  />
</div>

## 接口说明

当前登录用户可以通过此接口修改自己的密码。需要提供旧密码进行验证。

## 请求头

```
Authorization: Bearer <access_token>
Content-Type: application/json
```

## 请求体

```json
{
  "oldPassword": "旧密码",
  "newPassword": "新密码",
  "confirmPassword": "确认新密码"
}
```

## 字段说明

- `oldPassword`: 当前使用的密码
- `newPassword`: 新设置的密码
- `confirmPassword`: 确认新密码（需与 newPassword 一致）

## 使用场景

- 用户定期更换密码
- 密码泄露后修改密码
- 用户主动修改密码

## 注意事项

- 新密码需要符合系统的密码复杂度要求
- 旧密码验证失败将无法修改
- 修改密码后，需要重新登录

<ResponseExample>

```json 200 成功响应
{
  "code": 200,
  "message": "success",
  "data": {
    "uid": "user_123456",
    "username": "testuser",
    "message": "密码修改成功"
  }
}
```

```json 400 旧密码错误
{
  "code": 400,
  "message": "旧密码错误",
  "data": false
}
```

```json 400 新密码不一致
{
  "code": 400,
  "message": "两次输入的新密码不一致",
  "data": false
}
```

</ResponseExample>

<RequestExample>

```bash cURL
curl -X POST "https://api.weiyuai.cn/api/v1/user/change/password" \
  -H "Authorization: Bearer your_access_token_here" \
  -H "Content-Type: application/json" \
  -d '{
    "oldPassword": "oldPassword123",
    "newPassword": "newPassword456",
    "confirmPassword": "newPassword456"
  }'
```

```javascript JavaScript
const response = await fetch('https://api.weiyuai.cn/api/v1/user/change/password', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer your_access_token_here',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    oldPassword: 'oldPassword123',
    newPassword: 'newPassword456',
    confirmPassword: 'newPassword456'
  })
});

const result = await response.json();
```

```python Python
import requests

url = "https://api.weiyuai.cn/api/v1/user/change/password"
headers = {
  "Authorization": "Bearer your_access_token_here",
  "Content-Type": "application/json"
}
data = {
  "oldPassword": "oldPassword123",
  "newPassword": "newPassword456",
  "confirmPassword": "newPassword456"
}

response = requests.post(url, headers=headers, json=data)
result = response.json()
```

</RequestExample>
