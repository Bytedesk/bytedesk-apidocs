# Tab åŠŸèƒ½è¿ç§»åˆ°é¡¶éƒ¨å¯¼èˆªæ  - æ›´æ–°æ–‡æ¡£

## ğŸ“‹ å˜æ›´æ¦‚è¿°

æˆåŠŸå°† Tab åˆ‡æ¢åŠŸèƒ½ä»**å·¦ä¾§è¾¹æ **è¿ç§»åˆ°**é¡¶éƒ¨å¯¼èˆªæ ä¸­é—´ä½ç½®**ï¼Œé‡Šæ”¾äº†å·¦ä¾§ç©ºé—´ï¼Œæ–¹ä¾¿åç»­æ·»åŠ æ›´å¤š API åˆ†ç»„ã€‚

## ğŸ¯ è¿ç§»åŸå› 

1. **ç©ºé—´ä¼˜åŒ–** - å·¦ä¾§è¾¹æ å¤ªçª„ï¼ŒTab æŒ‰é’®å ç”¨å®è´µçš„å‚ç›´ç©ºé—´
2. **æ‰©å±•æ€§** - é¡¶éƒ¨å¯¼èˆªæ æœ‰æ›´å¤šæ°´å¹³ç©ºé—´ï¼Œå¯ä»¥å®¹çº³æ›´å¤š Tab
3. **ç”¨æˆ·ä½“éªŒ** - é¡¶éƒ¨ Tab åˆ‡æ¢æ˜¯æ›´å¸¸è§çš„å¯¼èˆªæ¨¡å¼ï¼ˆå¦‚ GitHubã€GitLabï¼‰
4. **è§†è§‰å±‚æ¬¡** - é¡¶éƒ¨å¯¼èˆªæ›´çªå‡ºï¼ŒTab åˆ‡æ¢æ›´æ˜æ˜¾

## âœ¨ ä¸»è¦å˜æ›´

### 1. **Topbar.tsx** (é¡¶éƒ¨å¯¼èˆªæ ç»„ä»¶)
**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… æ·»åŠ  `activeTab` å’Œ `onTabChange` props
- âœ… åœ¨ä¸­é—´åŒºåŸŸæ˜¾ç¤º Tab åˆ‡æ¢æŒ‰é’®
- âœ… æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯ï¼ˆç§»åŠ¨ç«¯æŒ‰é’®ç¨å°ï¼‰
- âœ… ä¿æŒåŸæœ‰çš„æ¸å˜ç´«è‰²é«˜äº®æ ·å¼
- âœ… ä» `docs.json` åŠ¨æ€è¯»å– Tab é…ç½®

**æ ·å¼ç‰¹ç‚¹**ï¼š
```typescript
// æ¡Œé¢ç«¯
padding: '8px 20px'
fontSize: '14px'
gap: '8px'

// ç§»åŠ¨ç«¯
padding: '6px 12px'
fontSize: '13px'
gap: '4px'
```

### 2. **Sidebar.tsx** (å·¦ä¾§è¾¹æ ç»„ä»¶)
**ç§»é™¤åŠŸèƒ½**ï¼š
- âŒ åˆ é™¤äº† Tab åˆ‡æ¢ UIï¼ˆæ•´ä¸ªé¡¶éƒ¨ Tab åŒºåŸŸï¼‰
- âŒ åˆ é™¤äº† `useState` å’Œ Tab çŠ¶æ€ç®¡ç†
- âŒ åˆ é™¤äº† `getActiveTabIndex` å‡½æ•°

**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… æ”¹ä¸ºé€šè¿‡ props æ¥æ”¶ `activeTab`
- âœ… ç®€åŒ–ä¸ºçº¯å±•ç¤ºç»„ä»¶

**æ¥å£å˜æ›´**ï¼š
```typescript
// ä¹‹å‰
export function Sidebar() {
  const [activeTab, setActiveTab] = useState(0)
  // ...
}

// ç°åœ¨
interface SidebarProps {
  activeTab: number
}
export function Sidebar({ activeTab }: SidebarProps)
```

### 3. **App.tsx** (åº”ç”¨ä¸»ç»„ä»¶)
**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… ç»Ÿä¸€ç®¡ç† `activeTab` çŠ¶æ€
- âœ… å®ç° `getActiveTabIndex()` - æ ¹æ®å½“å‰è·¯å¾„åˆ¤æ–­ Tab
- âœ… å®ç° `handleTabChange()` - åˆ‡æ¢ Tab å¹¶å¯¼èˆªåˆ°ç¬¬ä¸€ä¸ªé¡µé¢
- âœ… ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œè‡ªåŠ¨æ›´æ–° `activeTab`

**çŠ¶æ€ç®¡ç†**ï¼š
```typescript
const [activeTab, setActiveTab] = React.useState(getActiveTabIndex())

React.useEffect(() => {
  setActiveTab(getActiveTabIndex())
}, [location.pathname])

const handleTabChange = (index: number) => {
  setActiveTab(index)
  const firstPage = docs.navigation.tabs[index].groups[0].pages[0]
  window.location.href = `/${firstPage}`
}
```

**Props ä¼ é€’**ï¼š
- âœ… Topbar: `activeTab`, `onTabChange`
- âœ… Sidebar: `activeTab`
- âœ… Page: `activeTab`

### 4. **Page.tsx** (é¡µé¢å®¹å™¨ç»„ä»¶)
**æ–°å¢åŠŸèƒ½**ï¼š
- âœ… æ¥æ”¶ `activeTab` prop
- âœ… ä¼ é€’ç»™ Sidebar ç»„ä»¶
- âœ… é»˜è®¤å€¼ä¸º 0

**æ¥å£å˜æ›´**ï¼š
```typescript
interface PageProps {
  path: string
  isMobile?: boolean
  examplesOpen?: boolean
  onCloseExamples?: () => void
  activeTab?: number  // æ–°å¢
}
```

## ğŸ¨ è§†è§‰æ•ˆæœ

### é¡¶éƒ¨å¯¼èˆªæ å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â˜°] Logo        [åœ¨çº¿å®¢æœ] [å‘¼å«ä¸­å¿ƒ]        [è¯­è¨€] [âš™] [â˜€] â”‚
â”‚  å·¦ä¾§              ä¸­é—´ (Tabåˆ‡æ¢)              å³ä¾§å·¥å…·       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¦ä¾§è¾¹æ å¸ƒå±€ï¼ˆç®€åŒ–åï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Introduction    â”‚
â”‚ â”œâ”€ index        â”‚
â”‚                 â”‚
â”‚ AI API          â”‚
â”‚ â”œâ”€ chat-...     â”‚
â”‚                 â”‚
â”‚ Authentication  â”‚
â”‚ â”œâ”€ register     â”‚
â”‚ â”œâ”€ login        â”‚
â”‚                 â”‚
â”‚ ...             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š å¯¹æ¯”

| é¡¹ç›® | è¿ç§»å‰ï¼ˆå·¦ä¾§æ ï¼‰ | è¿ç§»åï¼ˆé¡¶éƒ¨æ ï¼‰ |
|------|-----------------|-----------------|
| **ç©ºé—´åˆ©ç”¨** | å ç”¨å‚ç›´ç©ºé—´ | å ç”¨æ°´å¹³ç©ºé—´ |
| **æ‰©å±•æ€§** | å—å®½åº¦é™åˆ¶ | å¯å®¹çº³æ›´å¤š Tab |
| **è§†è§‰å±‚æ¬¡** | ä¸å¯¼èˆªæ··åœ¨ä¸€èµ· | ç‹¬ç«‹çªå‡ºæ˜¾ç¤º |
| **ç”¨æˆ·ä¹ æƒ¯** | éä¸»æµæ¨¡å¼ | å¸¸è§å¯¼èˆªæ¨¡å¼ |
| **ç§»åŠ¨ç«¯** | æŠ˜å åœ¨ Drawer ä¸­ | å§‹ç»ˆå¯è§ |
| **å·¦ä¾§ç©ºé—´** | Tab å ç”¨ 60px | å®Œå…¨é‡Šæ”¾ |

## ğŸš€ ä½¿ç”¨æ–¹å¼

### æ¡Œé¢ç«¯
1. æ‰“å¼€æ–‡æ¡£é¡µé¢
2. åœ¨é¡¶éƒ¨å¯¼èˆªæ ä¸­é—´çœ‹åˆ° **[åœ¨çº¿å®¢æœ]** å’Œ **[å‘¼å«ä¸­å¿ƒ]** ä¸¤ä¸ªæŒ‰é’®
3. ç‚¹å‡»ä»»ä¸€æŒ‰é’®åˆ‡æ¢åˆ†ç±»
4. å·¦ä¾§å¯¼èˆªè‡ªåŠ¨æ›´æ–°ä¸ºå¯¹åº”åˆ†ç±»çš„æ¥å£åˆ—è¡¨

### ç§»åŠ¨ç«¯
1. æ‰“å¼€æ–‡æ¡£é¡µé¢ï¼ˆå°å±å¹•ï¼‰
2. é¡¶éƒ¨å¯¼èˆªæ æ˜¾ç¤ºç¨å°çš„ Tab æŒ‰é’®
3. ç‚¹å‡»åˆ‡æ¢ï¼Œè¡Œä¸ºä¸æ¡Œé¢ç«¯ä¸€è‡´
4. å·¦ä¾§èœå•é€šè¿‡æ±‰å ¡æŒ‰é’®æ‰“å¼€

## ğŸ”„ è‡ªåŠ¨ç‰¹æ€§

### è·¯å¾„è‡ªåŠ¨è¯†åˆ«
- è®¿é—® `call-center/*` â†’ è‡ªåŠ¨æ¿€æ´»"å‘¼å«ä¸­å¿ƒ" Tab
- è®¿é—® `api-reference/*` â†’ è‡ªåŠ¨æ¿€æ´»"åœ¨çº¿å®¢æœ" Tab
- è®¿é—® `index` â†’ é»˜è®¤æ¿€æ´»"åœ¨çº¿å®¢æœ" Tab

### Tab åˆ‡æ¢å¯¼èˆª
ç‚¹å‡» Tab æŒ‰é’®æ—¶ï¼š
1. æ›´æ–° `activeTab` çŠ¶æ€
2. è‡ªåŠ¨å¯¼èˆªåˆ°è¯¥åˆ†ç±»çš„ç¬¬ä¸€ä¸ªé¡µé¢
3. å·¦ä¾§è¾¹æ æ˜¾ç¤ºå¯¹åº”åˆ†ç±»çš„æ¥å£åˆ—è¡¨
4. URL æ›´æ–°ä¸ºæ–°é¡µé¢

## ğŸ“ æ·»åŠ æ–° Tab çš„æ­¥éª¤

### 1. æ›´æ–° `docs.json`
```json
{
  "navigation": {
    "tabs": [
      {
        "tab": "åœ¨çº¿å®¢æœ",
        "groups": [...]
      },
      {
        "tab": "å‘¼å«ä¸­å¿ƒ",
        "groups": [...]
      },
      {
        "tab": "æ–°åˆ†ç±»åç§°",  // æ–°å¢
        "groups": [
          {
            "group": "åˆ†ç»„1",
            "pages": [
              "new-category/page1",
              "new-category/page2"
            ]
          }
        ]
      }
    ]
  }
}
```

### 2. æ›´æ–° `App.tsx` çš„è·¯å¾„è¯†åˆ«é€»è¾‘
```typescript
const getActiveTabIndex = () => {
  const current = location.pathname.replace(/^\/apidocs\//, '').replace(/^\//, '') || 'index'
  if (current.startsWith('call-center/')) {
    return 1 // å‘¼å«ä¸­å¿ƒ
  }
  if (current.startsWith('new-category/')) {  // æ–°å¢
    return 2 // æ–°åˆ†ç±»
  }
  return 0 // åœ¨çº¿å®¢æœ (default)
}
```

### 3. æ›´æ–° `Page.tsx` çš„ API è¯†åˆ«ï¼ˆå¦‚æœéœ€è¦å³ä¾§ä»£ç ç¤ºä¾‹ï¼‰
```typescript
const isApiEndpoint = path.startsWith('api-reference/') 
  || path.startsWith('call-center/')
  || path.startsWith('new-category/')  // æ–°å¢
```

### 4. æ›´æ–° `Page.tsx` çš„ MDX å¯¼å…¥è·¯å¾„
```typescript
const mdxModules = import.meta.glob([
  '../../*.mdx',
  '../../api-reference/**/*.mdx',
  '../../call-center/**/*.mdx',
  '../../new-category/**/*.mdx',  // æ–°å¢
  '../../snippets/**/*.mdx',
])
```

### 5. åˆ›å»ºæ–‡ä»¶å¤¹å’Œ MDX æ–‡ä»¶
```bash
mkdir -p new-category/group1
touch new-category/group1/page1.mdx
touch new-category/group1/page2.mdx
```

## âœ… ä¼˜åŠ¿æ€»ç»“

### ç©ºé—´ä¼˜åŒ–
- âœ… å·¦ä¾§è¾¹æ å®Œå…¨ç”¨äºå¯¼èˆªï¼Œä¸å†æ˜¾ç¤º Tab
- âœ… å‚ç›´ç©ºé—´å¢åŠ çº¦ 60px
- âœ… å¯ä»¥æ˜¾ç¤ºæ›´å¤šæ¥å£

### ç”¨æˆ·ä½“éªŒ
- âœ… é¡¶éƒ¨ Tab æ›´ç¬¦åˆç”¨æˆ·ä¹ æƒ¯
- âœ… Tab åˆ‡æ¢æ›´æ˜æ˜¾ï¼Œæ›´å®¹æ˜“å‘ç°
- âœ… ç§»åŠ¨ç«¯ä¹Ÿèƒ½æ–¹ä¾¿åˆ‡æ¢

### å¯æ‰©å±•æ€§
- âœ… é¡¶éƒ¨æ°´å¹³ç©ºé—´å……è¶³
- âœ… å¯ä»¥æ·»åŠ  3-5 ä¸ª Tab ä¸æˆé—®é¢˜
- âœ… æŒ‰é’®å¯ä»¥è‡ªé€‚åº”è°ƒæ•´å¤§å°

### ä¸€è‡´æ€§
- âœ… çŠ¶æ€ç®¡ç†é›†ä¸­åœ¨ App.tsx
- âœ… æ‰€æœ‰å­ç»„ä»¶é€šè¿‡ props æ¥æ”¶çŠ¶æ€
- âœ… å•å‘æ•°æ®æµï¼Œæ˜“äºç»´æŠ¤

## ğŸ¯ æŠ€æœ¯äº®ç‚¹

1. **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯éƒ½æœ‰ä¼˜åŒ–
2. **çŠ¶æ€æå‡** - Tab çŠ¶æ€ä» Sidebar æå‡åˆ° App å±‚
3. **è‡ªåŠ¨è·¯ç”±åŒæ­¥** - è·¯å¾„å˜åŒ–è‡ªåŠ¨æ›´æ–° Tab
4. **ä¼˜é›…é™çº§** - åªæœ‰ä¸€ä¸ª Tab æ—¶ä¸æ˜¾ç¤ºåˆ‡æ¢æŒ‰é’®
5. **æ ·å¼ä¸€è‡´æ€§** - ä¿æŒåŸæœ‰çš„æ¸å˜ç´«è‰²ä¸»é¢˜

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **CSS å˜é‡ä¾èµ–** - éœ€è¦ `--hover-bg`ã€`--text-primary`ã€`--border-color`
2. **è·¯å¾„è¯†åˆ«** - æ–°å¢ Tab éœ€è¦æ›´æ–° `getActiveTabIndex`
3. **é¦–é¡µå¯¼èˆª** - åˆ‡æ¢ Tab ä¼šå¯¼èˆªåˆ°è¯¥åˆ†ç±»çš„ç¬¬ä¸€ä¸ªé¡µé¢
4. **çŠ¶æ€åŒæ­¥** - é€šè¿‡ `useEffect` ç›‘å¬ `location.pathname` å˜åŒ–

---

**è¿ç§»å®Œæˆæ—¶é—´**: 2025-10-06  
**ä¿®æ”¹çš„æ–‡ä»¶æ•°**: 4 ä¸ªæ ¸å¿ƒç»„ä»¶  
**æ–°å¢ä»£ç è¡Œæ•°**: ~60 è¡Œ  
**åˆ é™¤ä»£ç è¡Œæ•°**: ~80 è¡Œ  
**å‡€æ•ˆæœ**: æ›´ç®€æ´ã€æ›´é«˜æ•ˆã€æ›´æ˜“æ‰©å±•
